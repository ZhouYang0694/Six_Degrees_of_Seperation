# 六度分隔理论模拟程序

本程序通过生成不同类型的人际关系网络来验证六度分隔理论，探索任意两个人之间的社交距离。

## 🎯 项目概述

六度分隔理论认为世界上任意两个人之间的关系链不会超过6个人。本程序通过模拟三种不同的网络模型，分析和验证这一理论在不同网络结构下的表现。

## ✨ 主要功能

### 🌐 网络生成模型

1. **随机网络 (Erdős–Rényi模型)**
   - 每个人随机与k个其他人建立连接
   - 特点：度分布均匀，低聚类系数，短平均路径长度
   - 适用：理论基准研究

2. **小世界网络 (Watts-Strogatz模型)**
   - 规则网络基础上的随机重连
   - 特点：高聚类系数，短平均路径长度，最符合现实社交网络
   - 适用：社交网络建模

3. **无标度网络 (Barabási-Albert模型)**
   - 优先连接机制：新节点倾向于连接高度数节点
   - 特点：幂律度分布，存在"超级节点"
   - 适用：互联网、引用网络

### 📊 关键指标

- **通用可达性 (Universal Reachability)**: 能够在k度内到达所有其他人的人数比例
- **节点对连通性 (Pair Connectivity)**: 距离≤k的节点对占总节点对的比例
- **网络直径**: 网络中任意两点间的最大距离
- **平均路径长度**: 所有节点对之间的平均距离

### ⚡ 性能优化

- **自适应算法选择**: 根据网络密度自动选择最优的最短路径算法
- **稀疏网络**: 多源BFS (O(V×E))
- **密集网络**: Floyd-Warshall (O(V³))
- **迭代DFS**: 避免递归深度限制，支持大规模网络分析

## 🚀 快速开始

### 1. 环境准备

```bash
# 运行安装脚本
python setup.py
```

### 2. 快速演示

```bash
# 运行简单演示版本 (不需要matplotlib)
python run/simple_demo.py
```

### 3. 完整模拟

```bash
# 运行完整的模拟程序 (需要matplotlib)
python run/simulation.py
```

### 4. 优化版本

```bash
# 运行优化版本 (推荐，性能更好)
python run/optimized_simulation.py
```

## 📁 项目结构

```
Six_Degrees_of_Seperation/
├── run/
│   ├── simulation.py          # 主模拟程序
│   ├── optimized_simulation.py # 优化版本模拟程序
│   └── simple_demo.py         # 简单演示版本
├── utils/
│   ├── __init__.py
│   ├── network_generator.py   # 网络生成器类
│   ├── graph_algorithms.py    # 图算法模块
│   └── network_models_explanation.md  # 网络模型详细说明
├── output/                    # 输出目录（自动创建）
├── setup.py                   # 安装脚本
├── OPTIMIZATION_SUMMARY.md    # 优化总结文档
├── TODO.md
└── README.md
```

## ⚙️ 参数说明

- **N**: 网络中的人数（节点数）
- **k**: 每个人的平均连接数
- **network_type**: 网络类型
  - 'random': 随机网络
  - 'small_world': 小世界网络
  - 'scale_free': 无标度网络
- **seed**: 随机种子（可选，用于结果复现）

## 📈 输出说明

### 控制台输出

- 网络生成进度和时间统计
- 网络基本统计信息（节点数、边数、连通性等）
- 可达性分析结果（不同度数下的覆盖率）
- 六度分隔理论验证结果

### 图表输出

- 覆盖率分析图：展示不同度数下的通用可达性和节点对连通性
- 度分布图：展示网络的度分布特征
- 高质量PNG格式图片，适合学术报告

### 文件输出

- 详细的统计结果文本文件
- 包含所有关键指标和分析结果
- 可用于进一步的数据分析

## 🔬 理论背景

六度分隔理论最初由匈牙利作家Frigyes Karinthy在1929年提出，认为世界上任意两个人之间的关系链不会超过6个人。该理论后来通过Stanley Milgram的经典实验得到验证，成为复杂网络理论的重要基础。

### 网络模型特点对比

| 特征 | 随机网络 | 小世界网络 | 无标度网络 |
|------|----------|------------|------------|
| 度分布 | 泊松分布 | 接近泊松分布 | 幂律分布 |
| 聚类系数 | 低 | 高 | 中等 |
| 平均路径长度 | 短 | 短 | 很短 |
| 鲁棒性 | 中等 | 高 | 对随机攻击鲁棒，对针对性攻击脆弱 |
| 现实适用性 | 理论基准 | 社交网络 | 互联网、引用网络 |

## ⚡ 性能与复杂度

### 算法复杂度

- **网络生成**: O(N×k)
- **连通性分析**: O(N+E) 使用优化的迭代DFS
- **最短路径计算**:
  - 稀疏网络: O(N×E) 使用多源BFS
  - 密集网络: O(N³) 使用Floyd-Warshall
- **可达性分析**: O(N²)

### 优化特性

- ✅ **避免递归深度限制**: 使用迭代DFS替代递归DFS
- ✅ **自适应算法选择**: 根据网络密度自动选择最优算法
- ✅ **内存效率**: 使用邻接列表和稀疏存储
- ✅ **错误处理**: 全面的异常处理和参数验证
- ✅ **进度监控**: 实时显示计算进度和性能统计

## 💡 使用示例

### 基本使用

```python
from run.optimized_simulation import OptimizedSixDegreesSimulation

# 创建模拟器
sim = OptimizedSixDegreesSimulation(
    n=500,              # 500个节点
    k=8,                # 平均度数为8
    network_type='small_world',  # 小世界网络
    seed=42             # 设置随机种子
)

# 查看网络统计
sim.print_network_summary()

# 生成分析图表
sim.plot_coverage_analysis(max_degree=8)
sim.plot_degree_distribution()

# 导出结果
sim.export_results('results.txt')
```

### 参数推荐

| 用途 | N | k | 网络类型 | 说明 |
|------|---|---|----------|------|
| 快速测试 | 100-300 | 4-8 | random | 验证代码功能 |
| 小世界研究 | 500-1000 | 6-10 | small_world | 六度分隔理论验证 |
| 网络比较 | 300-500 | 8 | 所有类型 | 对比不同网络特性 |
| 大规模分析 | 1000+ | 6-12 | 根据需求 | 需要更多计算资源 |

## ❓ 常见问题

**Q: 为什么小世界网络最符合现实？**

A: 小世界网络同时具有高聚类系数（体现局部聚集特性）和短平均路径长度（体现全局连通性），这与现实世界的社交网络特征最为相符。

**Q: 程序运行很慢怎么办？**

A: 可以调整参数N（人数）和k（连接数），或者使用simple_demo.py进行快速测试。推荐使用optimized_simulation.py获得更好的性能。

**Q: 如何理解通用可达性？**

A: 通用可达性指的是能够在k度内到达网络中所有其他节点的节点比例。这反映了网络中"超级连接者"的存在程度。

**Q: 出现"maximum recursion depth exceeded"错误怎么办？**

A: 使用optimized_simulation.py版本，它使用迭代DFS替代递归DFS，避免了递归深度限制问题。

**Q: 如何选择合适的网络参数？**

A: 建议从小参数开始测试（N=100-300），然后根据计算能力和研究需求调整。k值通常设为4-12之间。

## 🔧 技术特性

- **语言**: Python 3.7+
- **核心依赖**: numpy, matplotlib (可选)
- **架构**: 模块化设计，易于扩展
- **性能**: 支持千级节点网络的实时分析
- **可靠性**: 全面的错误处理和边界条件检查

## 🤝 贡献指南

欢迎提交Issue和Pull Request！

1. Fork本项目
2. 创建功能分支 (`git checkout -b feature/amazing-feature`)
3. 提交更改 (`git commit -m 'Add amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 创建Pull Request

## 📄 许可证

本项目采用MIT许可证 - 详见 [LICENSE](LICENSE) 文件

## 🎯 未来计划

- [ ] 添加更多网络模型（社区结构、层次网络等）
- [ ] 支持动态网络演化分析
- [ ] 交互式网络可视化
- [ ] 并行计算优化
- [ ] 与真实社交网络数据对比验证

---

*如果这个项目对您有帮助，请给个 ⭐ Star！*
